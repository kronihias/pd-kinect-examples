#N canvas 626 259 651 442 10;
#X declare -path ../externals;
#X obj 372 111 gemwin;
#X msg 390 85 destroy;
#N canvas 634 78 526 490 text 0;
#X obj 57 206 text3d;
#X obj 57 160 translateXYZ 0 0 0;
#X obj 1 49 gemhead 10;
#X obj 181 101 loadbang;
#N canvas 0 22 450 300 position 0;
#X obj 142 53 r /distance/mousecoord;
#X obj 142 75 unpack 0 0;
#X obj 199 102 - 0.5;
#X obj 199 184 outlet;
#X obj 142 103 - 0.5;
#X obj 142 185 outlet;
#X obj 142 129 * 9;
#X obj 199 157 + 0.2;
#X obj 199 128 * -7;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 1 1 2 0;
#X connect 2 0 8 0;
#X connect 4 0 6 0;
#X connect 6 0 5 0;
#X connect 7 0 3 0;
#X connect 8 0 7 0;
#X restore 92 122 pd position;
#X obj 1 76 color 1 1 1;
#X obj 311 160 translateXYZ 0 0 0;
#N canvas 0 22 450 300 position 0;
#X obj 142 53 r /distance/mousecoord;
#X obj 142 75 unpack 0 0;
#X obj 199 102 - 0.5;
#X obj 199 184 outlet;
#X obj 142 103 - 0.5;
#X obj 142 185 outlet;
#X obj 142 129 * 9;
#X obj 199 128 * -7;
#X obj 199 157 + 0.45;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 1 1 2 0;
#X connect 2 0 7 0;
#X connect 4 0 6 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 3 0;
#X restore 346 122 pd position;
#X obj 311 86 color 0 0 0 0.2;
#X obj 311 61 alpha;
#X obj 311 34 gemhead 9;
#X obj 74 439 text3d;
#X obj 74 393 translateXYZ 0 0 0;
#X obj 18 282 gemhead 10;
#X obj 94 312 list append m;
#X obj 94 335 list trim;
#X obj 198 334 loadbang;
#N canvas 0 22 450 300 position 0;
#X obj 142 53 r /distance/mousecoord;
#X obj 142 75 unpack 0 0;
#X obj 199 102 - 0.5;
#X obj 199 184 outlet;
#X obj 142 103 - 0.5;
#X obj 142 185 outlet;
#X obj 142 129 * 9;
#X obj 199 128 * -7;
#X obj 199 157 + 0.8;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 1 1 2 0;
#X connect 2 0 7 0;
#X connect 4 0 6 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 3 0;
#X restore 109 355 pd position;
#X obj 18 309 color 1 1 1;
#X obj 94 291 list prepend text x:;
#X obj 94 267 r /x/meters;
#X obj 323 434 text3d;
#X obj 323 388 translateXYZ 0 0 0;
#X obj 267 277 gemhead 10;
#X obj 343 307 list append m;
#X obj 343 330 list trim;
#X obj 447 329 loadbang;
#N canvas 0 22 450 300 position 0;
#X obj 142 53 r /distance/mousecoord;
#X obj 142 75 unpack 0 0;
#X obj 199 102 - 0.5;
#X obj 199 184 outlet;
#X obj 142 103 - 0.5;
#X obj 142 185 outlet;
#X obj 142 129 * 9;
#X obj 199 128 * -7;
#X obj 199 157 + 0.51;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 1 1 2 0;
#X connect 2 0 7 0;
#X connect 4 0 6 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 8 0 3 0;
#X restore 358 350 pd position;
#X obj 267 304 color 1 1 1;
#X obj 343 286 list prepend text y:;
#X obj 343 262 r /y/meters;
#X msg 198 392 4;
#X msg 447 387 4;
#X msg 181 159 4;
#X obj 311 202 rectangle 2 0.6;
#X obj 137 39 list append m;
#X obj 137 62 list trim;
#X obj 137 18 list prepend text z:;
#X obj 137 -6 r /z/meters;
#X connect 1 0 0 0;
#X connect 2 0 5 0;
#X connect 3 0 33 0;
#X connect 4 0 1 1;
#X connect 4 1 1 2;
#X connect 5 0 1 0;
#X connect 6 0 34 0;
#X connect 7 0 6 1;
#X connect 7 1 6 2;
#X connect 8 0 6 0;
#X connect 9 0 8 0;
#X connect 10 0 9 0;
#X connect 12 0 11 0;
#X connect 13 0 18 0;
#X connect 14 0 15 0;
#X connect 15 0 11 0;
#X connect 16 0 31 0;
#X connect 17 0 12 1;
#X connect 17 1 12 2;
#X connect 18 0 12 0;
#X connect 19 0 14 0;
#X connect 20 0 19 0;
#X connect 22 0 21 0;
#X connect 23 0 28 0;
#X connect 24 0 25 0;
#X connect 25 0 21 0;
#X connect 26 0 32 0;
#X connect 27 0 22 1;
#X connect 27 1 22 2;
#X connect 28 0 22 0;
#X connect 29 0 24 0;
#X connect 30 0 29 0;
#X connect 31 0 11 1;
#X connect 32 0 21 1;
#X connect 33 0 0 1;
#X connect 35 0 36 0;
#X connect 36 0 0 0;
#X connect 37 0 35 0;
#X connect 38 0 37 0;
#X restore 85 107 pd text;
#X obj 381 222 tgl 15 0 /distance/poll /distance/poll /distance/poll
17 7 0 10 -262144 -1 -1 1 1;
#X text 19 3 display distance in depth image;
#X text 21 19 with mouse pointer;
#X obj 381 198 loadbang;
#X text 444 410 (C) 2011/12 Matthias Kronlachner;
#X obj 467 7 declare -path ../externals;
#X msg 372 63 dimen 640 480 \, create \, 1;
#N canvas 625 312 626 364 draw-it 0;
#X obj 31 266 rectangle 6.4 4.8;
#X obj 80 241 * 6.4;
#X obj 130 242 * 4.8;
#X floatatom 130 221 5 0 0 0 - - -;
#X msg 130 199 0.833;
#X obj 130 180 loadbang;
#X obj 31 202 pix_texture;
#X obj 332 269 rectangle 6.4 4.8;
#X obj 381 244 * 6.4;
#X obj 431 245 * 4.8;
#X floatatom 431 224 5 0 0 0 - - -;
#X msg 431 202 0.833;
#X obj 431 183 loadbang;
#X obj 332 205 pix_texture;
#X obj 31 164 gemhead 1;
#X obj 332 144 gemhead 2;
#X obj 94 151 r /kinect/tex-id/rgb;
#X obj 42 125 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 332 180 alpha;
#X obj 395 154 r /kinect/tex-id/depth-rgb;
#X connect 1 0 0 1;
#X connect 2 0 0 2;
#X connect 3 0 2 0;
#X connect 3 0 1 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 8 0 7 1;
#X connect 9 0 7 2;
#X connect 10 0 9 0;
#X connect 10 0 8 0;
#X connect 11 0 10 0;
#X connect 12 0 11 0;
#X connect 13 0 7 0;
#X connect 14 0 6 0;
#X connect 15 0 18 0;
#X connect 16 0 6 1;
#X connect 17 0 14 0;
#X connect 18 0 13 0;
#X connect 19 0 13 1;
#X restore 22 229 pd draw-it;
#X msg 497 335 angle \$1;
#X floatatom 497 311 5 0 0 0 - - -;
#X floatatom 437 310 5 0 0 0 - - -;
#X msg 437 334 led \$1;
#X obj 385 269 nbx 5 14 -1e+37 1e+37 0 0 /kinect/depth/alpha /kinect/depth/alpha
/kinect/depth/alpha 0 -8 0 10 -262144 -1 -1 124.6 256;
#N canvas 656 78 725 506 xyz_computation 1;
#X obj 97 109 pix_data;
#X obj 119 140 unpack 0 0 0;
#X floatatom 121 162 5 0 0 0 - - -;
#X floatatom 160 162 5 0 0 0 - - -;
#X floatatom 200 162 5 0 0 0 - - -;
#X obj 153 201 * 256;
#X obj 83 201 * 65536;
#X obj 83 231 +;
#X text 112 231 rawdisparity 16 bit;
#X obj 22 47 metro 100;
#X obj 22 24 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1 1
;
#X obj 83 350 nbx 5 60 -1e+37 1e+37 0 0 empty empty m 300 22 0 60 -262144
-1 -1 0 256;
#X text 161 111 output pixel rgb value;
#X text 201 139 r g b;
#X text 192 200 second and first 8 bits;
#X text 165 326 display distance in meters;
#X text 337 40 x \, y pixel position in range 0 - 1;
#X text 436 52 (from depth image);
#X text 40 23 ON/OFF;
#X obj 22 3 r /distance/poll;
#X obj 250 -7 r /distance/mousecoord;
#X obj 250 16 unpack 0 0;
#X obj 307 46 - 1;
#X obj 307 70 * -1;
#X obj 82 276 / 1000;
#X obj 157 283 s /distance/mm;
#X text 500 341 get X/Y real world coordinates;
#N canvas 490 161 761 426 compute 0;
#X obj 32 12 r /distance/mousecoord;
#X obj 32 41 unpack 0 0;
#X obj 200 15 r /distance/mm;
#X floatatom 32 111 5 0 0 0 - - -;
#X obj 32 67 - 0.5;
#X obj 32 88 * 640;
#X floatatom 89 111 5 0 0 0 - - -;
#X obj 89 67 - 0.5;
#X text 100 42 x \, y;
#X obj 18 190 / 1000;
#X floatatom 18 214 5 0 0 0 - - -;
#X obj 18 156 expr ($f1/320)*$f2*tan(1.0144686707507438/2)*2;
#X text 328 242 X_rw=(X_proj/Xres-.5)*Z*XtoZ Y_rw=(0.5-Y_proj/Yres)*Z*YtoZ
\, where: XtoZ=tan(FovH/2)*2 YtoZ=tan(FovV/2)*2 FovH=1.0144686707507438
(rad) FovV=0.78980943449644714 (rad);
#X obj 318 156 expr ($f1/240)*$f2*tan(0.78980943449644714/2)*2;
#X obj 318 183 / 1000;
#X floatatom 318 207 5 0 0 0 - - -;
#X obj 89 88 * -480;
#X text 11 348 http://groups.google.com/group/openkinect/browse_thread/thread/1aa68954907a9f5d/d9d823b43f8eabef?lnk=gst&q=x+and+y+real+world#d9d823b43f8eabef
;
#X obj 376 204 s /y/meters;
#X obj 130 225 s /x/meters;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 1 1 7 0;
#X connect 2 0 11 1;
#X connect 2 0 13 1;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 5 0 11 0;
#X connect 7 0 16 0;
#X connect 9 0 10 0;
#X connect 9 0 19 0;
#X connect 11 0 9 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 14 0 18 0;
#X connect 16 0 6 0;
#X connect 16 0 13 0;
#X restore 503 362 pd compute x_y coordinates;
#X obj 23 421 s /z/meters;
#X obj 112 61 r /kinect/gemlist/depth;
#X text 102 184 2^16;
#X text 160 186 2^8;
#X text 252 140 color values from 0->1 !;
#X connect 0 1 1 0;
#X connect 1 0 2 0;
#X connect 1 0 6 0;
#X connect 1 1 3 0;
#X connect 1 1 5 0;
#X connect 1 2 4 0;
#X connect 5 0 7 1;
#X connect 6 0 7 0;
#X connect 7 0 24 0;
#X connect 7 0 25 0;
#X connect 9 0 0 0;
#X connect 10 0 9 0;
#X connect 19 0 10 0;
#X connect 20 0 21 0;
#X connect 21 0 0 2;
#X connect 21 1 22 0;
#X connect 22 0 23 0;
#X connect 23 0 0 3;
#X connect 24 0 11 0;
#X connect 24 0 28 0;
#X connect 29 0 0 1;
#X restore 22 252 pd xyz_computation;
#N canvas 12 224 328 190 gemmouse 0;
#X floatatom 48 72 5 0 0 0 - - -;
#X floatatom 86 74 5 0 0 0 - - -;
#X obj 38 27 gemmouse 1 1;
#X obj 37 135 s /distance/mousecoord;
#X obj 37 101 pack f f;
#X text 121 5 get mouse coordinates;
#X obj 144 75 s /distance/mouseclick;
#X connect 2 0 0 0;
#X connect 2 0 4 0;
#X connect 2 1 1 0;
#X connect 2 1 4 1;
#X connect 2 2 6 0;
#X connect 4 0 3 0;
#X restore 61 84 pd gemmouse;
#X obj 380 165 tgl 15 0 /distance/points/text /distance/points/text
/distance/points/text 17 7 0 10 -262144 -1 -1 0 1;
#X text 19 394 don't expect really accurate results - computation of
x and y values is not very exact;
#X text 265 65 create gemwindow;
#X text 279 222 start estimation;
#X text 224 266 visibility of depth image;
#X obj 497 364 s /freenect;
#X text 535 311 -30 ... + 30;
#X obj 19 133 # openni-interface;
#X obj 26 167 freenect-interface;
#X text 136 132 use with pix_openni;
#X text 147 168 or pix_freenect;
#N canvas 617 455 450 300 two_point_measurement 1;
#X obj 71 80 r /distance/mouseclick;
#X obj 71 103 sel 1;
#X obj 71 125 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 71 151 sel 0 1;
#X obj 84 182 s /distance/set-end-point;
#X obj 64 202 s /distance/set-start-point;
#N canvas 27 420 779 313 start-point 0;
#X obj 68 23 gemhead;
#X obj 68 87 alpha;
#X obj 68 117 translateXYZ 0 0 0;
#N canvas 267 161 556 300 position 0;
#X obj 27 31 r /distance/mousecoord;
#X obj 27 53 unpack 0 0;
#X obj 94 80 - 0.5;
#X obj 94 192 outlet;
#X obj 27 81 - 0.5;
#X obj 27 193 outlet;
#X obj 94 106 * -8;
#X obj 27 107 * 10.6667;
#X obj 143 95 r /distance/set-start-point;
#X obj 27 162 f 0;
#X obj 94 158 f 0;
#X text 41 7 draw it;
#X obj 189 228 s /distance/start-point/gem-coord;
#X obj 189 200 pack 0 0 0;
#X obj 143 118 t b b;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 1 1 2 0;
#X connect 2 0 6 0;
#X connect 4 0 7 0;
#X connect 6 0 10 1;
#X connect 7 0 9 1;
#X connect 8 0 14 0;
#X connect 9 0 5 0;
#X connect 9 0 13 0;
#X connect 10 0 3 0;
#X connect 10 0 13 1;
#X connect 13 0 12 0;
#X connect 14 0 9 0;
#X connect 14 1 10 0;
#X restore 134 43 pd position;
#X obj 327 177 pix_data;
#X obj 327 95 metro 100;
#X obj 327 72 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X text 345 71 ON/OFF;
#X obj 327 51 r /distance/poll;
#X text 75 -3 draw it;
#X text 333 26 measure it;
#N canvas 267 161 361 228 position 0;
#X obj 27 31 r /distance/mousecoord;
#X obj 27 53 unpack 0 0;
#X obj 94 192 outlet;
#X obj 27 193 outlet;
#X obj 143 115 r /distance/set-start-point;
#X obj 27 162 f 0;
#X obj 94 158 f 0;
#X text 41 7 draw it;
#X obj 94 80 - 1;
#X obj 94 106 * -1;
#X connect 0 0 1 0;
#X connect 1 0 5 1;
#X connect 1 1 8 0;
#X connect 4 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 6 0 2 0;
#X connect 8 0 9 0;
#X connect 9 0 6 1;
#X restore 368 148 pd position;
#N canvas 154 397 947 360 compute-xyz 0;
#X obj 19 20 inlet;
#X obj 19 47 unpack 0 0 0;
#X obj 69 77 * 256;
#X obj 19 77 * 65536;
#X obj 19 107 +;
#X obj 19 177 / 1000;
#X obj 310 152 / 1000;
#X obj 310 118 expr ($f1/320)*$f2*tan(1.0144686707507438/2)*2;
#X obj 610 118 expr ($f1/240)*$f2*tan(0.78980943449644714/2)*2;
#X obj 610 145 / 1000;
#X obj 583 41 * 1000;
#X obj 583 70 t f f;
#X obj 310 181 s /start-point/x/meters;
#X obj 610 168 s /start-point/y/meters;
#X obj 583 8 r /start-point/z/meters;
#X obj 19 205 s /start-point/z/meters;
#N canvas 757 136 361 228 position 0;
#X obj 27 31 r /distance/mousecoord;
#X obj 27 53 unpack 0 0;
#X obj 94 192 outlet;
#X obj 27 193 outlet;
#X obj 143 115 r /distance/set-start-point;
#X obj 27 162 f 0;
#X obj 94 158 f 0;
#X text 41 7 draw it;
#X obj 27 79 - 0.5;
#X obj 27 108 * 640;
#X obj 94 80 - 0.5;
#X obj 94 106 * -480;
#X connect 0 0 1 0;
#X connect 1 0 8 0;
#X connect 1 1 10 0;
#X connect 4 0 6 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 6 0 2 0;
#X connect 8 0 9 0;
#X connect 9 0 5 1;
#X connect 10 0 11 0;
#X connect 11 0 6 1;
#X restore 310 34 pd position;
#X obj 225 281 pack 0 0 0;
#X obj 277 244 t b f;
#X obj 329 247 t b f;
#X obj 225 331 s /start-point/meters;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 0;
#X connect 2 0 4 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 15 0;
#X connect 5 0 19 0;
#X connect 6 0 12 0;
#X connect 6 0 17 0;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 9 0 13 0;
#X connect 9 0 18 0;
#X connect 10 0 11 0;
#X connect 11 0 7 1;
#X connect 11 1 8 1;
#X connect 14 0 10 0;
#X connect 16 0 7 0;
#X connect 16 1 8 0;
#X connect 17 0 20 0;
#X connect 18 0 17 0;
#X connect 18 1 17 1;
#X connect 19 0 17 0;
#X connect 19 1 17 2;
#X restore 349 223 pd compute-xyz;
#N canvas 221 104 556 503 circle-text 0;
#X obj 127 62 circle 0.05;
#X obj 215 64 circle 0.1;
#X obj 215 36 color 0 0 0 0.8;
#X obj 104 -54 inlet;
#X obj 35 146 color 1 1 1 1;
#X obj 35 404 text3d;
#X obj 68 360 loadbang;
#X msg 68 380 3;
#X obj 35 172 translateXYZ 0 -0.2 0;
#X msg 66 328 text x: \$1m y: \$2m z: \$3m;
#X obj 66 304 pack 0 0 0;
#X obj 66 210 r /start-point/x/meters;
#X obj 86 251 t b f;
#X obj 136 273 t b f;
#X obj 86 230 r /start-point/y/meters;
#X obj 136 252 r /start-point/z/meters;
#X obj 62 124 rectangle 2.1 0.5;
#X obj 62 96 color 0 0 0 0.3;
#X obj 35 43 spigot 0;
#X obj 35 68 t a a;
#X obj 104 -13 t a a a;
#X obj 127 35 color 1 0 0 1;
#X obj 39 15 r /distance/points/text;
#X connect 2 0 1 0;
#X connect 3 0 20 0;
#X connect 4 0 8 0;
#X connect 6 0 7 0;
#X connect 7 0 5 1;
#X connect 8 0 5 0;
#X connect 9 0 5 0;
#X connect 10 0 9 0;
#X connect 11 0 10 0;
#X connect 12 0 10 0;
#X connect 12 1 10 1;
#X connect 13 0 10 0;
#X connect 13 1 10 2;
#X connect 14 0 12 0;
#X connect 15 0 13 0;
#X connect 17 0 16 0;
#X connect 18 0 19 0;
#X connect 19 0 4 0;
#X connect 19 1 17 0;
#X connect 20 0 18 0;
#X connect 20 1 21 0;
#X connect 20 2 2 0;
#X connect 21 0 0 0;
#X connect 22 0 18 1;
#X restore 68 163 pd circle-text;
#X obj 342 119 r /kinect/gemlist/depth;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 13 0;
#X connect 3 0 2 1;
#X connect 3 1 2 2;
#X connect 4 1 12 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X connect 8 0 6 0;
#X connect 11 0 4 2;
#X connect 11 1 4 3;
#X connect 14 0 4 1;
#X restore 294 92 pd start-point;
#N canvas 27 420 779 313 end-point 0;
#X obj 68 26 gemhead;
#X obj 68 87 alpha;
#X obj 68 117 translateXYZ 0 0 0;
#N canvas 267 161 458 291 position 0;
#X obj 27 31 r /distance/mousecoord;
#X obj 27 53 unpack 0 0;
#X obj 94 80 - 0.5;
#X obj 94 192 outlet;
#X obj 27 81 - 0.5;
#X obj 27 193 outlet;
#X obj 94 106 * -8;
#X obj 27 107 * 10.6667;
#X obj 27 162 f 0;
#X obj 94 158 f 0;
#X text 41 7 draw it;
#X obj 143 95 r /distance/set-end-point;
#X obj 199 238 s /distance/end-point/gem-coord;
#X obj 199 210 pack 0 0 0;
#X obj 143 119 t b b;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 1 1 2 0;
#X connect 2 0 6 0;
#X connect 4 0 7 0;
#X connect 6 0 9 1;
#X connect 7 0 8 1;
#X connect 8 0 5 0;
#X connect 8 0 13 0;
#X connect 9 0 3 0;
#X connect 9 0 13 1;
#X connect 11 0 14 0;
#X connect 13 0 12 0;
#X connect 14 0 8 0;
#X connect 14 1 9 0;
#X restore 134 43 pd position;
#X obj 327 177 pix_data;
#X obj 327 95 metro 100;
#X obj 327 72 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X text 345 71 ON/OFF;
#X obj 327 51 r /distance/poll;
#X text 75 8 draw it;
#X text 333 26 measure it;
#N canvas 267 161 361 228 position 0;
#X obj 27 31 r /distance/mousecoord;
#X obj 27 53 unpack 0 0;
#X obj 94 192 outlet;
#X obj 27 193 outlet;
#X obj 27 162 f 0;
#X obj 94 158 f 0;
#X text 41 7 draw it;
#X obj 94 80 - 1;
#X obj 94 106 * -1;
#X obj 143 115 r /distance/set-end-point;
#X connect 0 0 1 0;
#X connect 1 0 4 1;
#X connect 1 1 7 0;
#X connect 4 0 3 0;
#X connect 5 0 2 0;
#X connect 7 0 8 0;
#X connect 8 0 5 1;
#X connect 9 0 5 0;
#X connect 9 0 4 0;
#X restore 368 148 pd position;
#N canvas 154 397 947 360 compute-xyz 0;
#X obj 19 20 inlet;
#X obj 19 47 unpack 0 0 0;
#X obj 69 77 * 256;
#X obj 19 77 * 65536;
#X obj 19 107 +;
#X obj 19 177 / 1000;
#X obj 310 152 / 1000;
#X obj 310 118 expr ($f1/320)*$f2*tan(1.0144686707507438/2)*2;
#X obj 610 118 expr ($f1/240)*$f2*tan(0.78980943449644714/2)*2;
#X obj 610 145 / 1000;
#X obj 583 41 * 1000;
#X obj 583 70 t f f;
#N canvas 757 136 361 228 position 0;
#X obj 27 31 r /distance/mousecoord;
#X obj 27 53 unpack 0 0;
#X obj 94 192 outlet;
#X obj 27 193 outlet;
#X obj 27 162 f 0;
#X obj 94 158 f 0;
#X text 41 7 draw it;
#X obj 27 79 - 0.5;
#X obj 27 108 * 640;
#X obj 94 80 - 0.5;
#X obj 94 106 * -480;
#X obj 143 115 r /distance/set-end-point;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 1 1 9 0;
#X connect 4 0 3 0;
#X connect 5 0 2 0;
#X connect 7 0 8 0;
#X connect 8 0 4 1;
#X connect 9 0 10 0;
#X connect 10 0 5 1;
#X connect 11 0 5 0;
#X connect 11 0 4 0;
#X restore 310 34 pd position;
#X obj 583 8 r /end-point/z/meters;
#X obj 610 168 s /end-point/y/meters;
#X obj 310 181 s /end-point/x/meters;
#X obj 19 205 s /end-point/z/meters;
#X obj 215 271 pack 0 0 0;
#X obj 215 321 s /end-point/meters;
#X obj 267 234 t b f;
#X obj 319 237 t b f;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 1 2 0;
#X connect 2 0 4 1;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 16 0;
#X connect 5 0 20 0;
#X connect 6 0 15 0;
#X connect 6 0 17 0;
#X connect 7 0 6 0;
#X connect 8 0 9 0;
#X connect 9 0 14 0;
#X connect 9 0 19 0;
#X connect 10 0 11 0;
#X connect 11 0 7 1;
#X connect 11 1 8 1;
#X connect 12 0 7 0;
#X connect 12 1 8 0;
#X connect 13 0 10 0;
#X connect 17 0 18 0;
#X connect 19 0 17 0;
#X connect 19 1 17 1;
#X connect 20 0 17 0;
#X connect 20 1 17 2;
#X restore 349 223 pd compute-xyz;
#N canvas 214 148 577 539 circle-text 0;
#X obj 137 72 circle 0.05;
#X obj 225 74 circle 0.1;
#X obj 137 45 color 1 1 0 1;
#X obj 225 46 color 0 0 0 0.8;
#X obj 114 -44 inlet;
#X obj 45 156 color 1 1 1 1;
#X obj 45 414 text3d;
#X obj 78 370 loadbang;
#X msg 78 390 3;
#X obj 45 182 translateXYZ 0 -0.2 0;
#X msg 76 338 text x: \$1m y: \$2m z: \$3m;
#X obj 76 314 pack 0 0 0;
#X obj 96 261 t b f;
#X obj 146 283 t b f;
#X obj 72 134 rectangle 2.1 0.5;
#X obj 72 106 color 0 0 0 0.3;
#X obj 45 53 spigot 0;
#X obj 45 78 t a a;
#X obj 114 -3 t a a a;
#X obj 76 220 r /end-point/x/meters;
#X obj 96 240 r /end-point/y/meters;
#X obj 146 262 r /end-point/z/meters;
#X obj 49 25 r /distance/points/text;
#X connect 2 0 0 0;
#X connect 3 0 1 0;
#X connect 4 0 18 0;
#X connect 5 0 9 0;
#X connect 7 0 8 0;
#X connect 8 0 6 1;
#X connect 9 0 6 0;
#X connect 10 0 6 0;
#X connect 11 0 10 0;
#X connect 12 0 11 0;
#X connect 12 1 11 1;
#X connect 13 0 11 0;
#X connect 13 1 11 2;
#X connect 15 0 14 0;
#X connect 16 0 17 0;
#X connect 17 0 5 0;
#X connect 17 1 15 0;
#X connect 18 0 16 0;
#X connect 18 1 2 0;
#X connect 18 2 3 0;
#X connect 19 0 11 0;
#X connect 20 0 12 0;
#X connect 21 0 13 0;
#X connect 22 0 16 1;
#X restore 68 163 pd circle-text;
#X obj 342 119 r /kinect/gemlist/depth;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 13 0;
#X connect 3 0 2 1;
#X connect 3 1 2 2;
#X connect 4 1 12 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X connect 8 0 6 0;
#X connect 11 0 4 2;
#X connect 11 1 4 3;
#X connect 14 0 4 1;
#X restore 294 122 pd end-point;
#N canvas 414 328 1013 372 connecting-line 0;
#X obj 33 139 curve 2;
#X obj 33 25 gemhead;
#X msg 72 73 width 3;
#X obj 72 47 loadbang;
#X obj 131 94 r /distance/end-point/gem-coord;
#X obj 137 46 r /distance/start-point/gem-coord;
#X text 44 1 draw connecting line;
#X obj 441 23 r /start-point/meters;
#X obj 441 73 unpack 0 0 0;
#X obj 608 72 unpack 0 0 0;
#X obj 608 23 r /end-point/meters;
#X obj 441 137 expr sqrt(pow($f1-$f4 \, 2)+pow($f2-$f5 \, 2)+pow($f3-$f6
\, 2));
#X obj 431 162 s /distance/distance-points;
#X obj 33 336 text3d;
#X obj 66 291 loadbang;
#X msg 66 314 4;
#X msg 45 269 text \$1 m;
#X obj 45 247 r /distance/distance-points;
#X text 200 228 draw text distance;
#X obj 33 164 translateXYZ 0 -3 0;
#X obj 441 110 + 100;
#X obj 481 110 + 100;
#X obj 611 110 + 100;
#X obj 671 110 + 100;
#X obj 33 191 t a a;
#X obj 33 225 color 0 0 0 1;
#X obj 345 245 rectangle 1 0.2;
#X obj 345 223 color 1 1 1 0.5;
#X obj 33 109 alpha;
#X connect 0 0 19 0;
#X connect 1 0 28 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 4 0 0 2;
#X connect 5 0 0 1;
#X connect 7 0 8 0;
#X connect 8 0 20 0;
#X connect 8 1 21 0;
#X connect 8 2 11 2;
#X connect 9 0 22 0;
#X connect 9 1 23 0;
#X connect 9 2 11 5;
#X connect 10 0 9 0;
#X connect 11 0 12 0;
#X connect 14 0 15 0;
#X connect 15 0 13 1;
#X connect 16 0 13 0;
#X connect 17 0 16 0;
#X connect 19 0 24 0;
#X connect 20 0 11 0;
#X connect 21 0 11 1;
#X connect 22 0 11 3;
#X connect 23 0 11 4;
#X connect 24 0 25 0;
#X connect 24 1 27 0;
#X connect 25 0 13 0;
#X connect 27 0 26 0;
#X connect 28 0 0 0;
#X restore 292 182 pd connecting-line;
#X text 73 19 click on image and set start-and-end point;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 3 1 4 0;
#X restore 23 278 pd two_point_measurement;
#X msg 342 246 0.6;
#X text 377 148 show coordinates of selected points;
#X text 33 43 click into gemwindow to measure distances;
#X connect 1 0 0 0;
#X connect 6 0 3 0;
#X connect 9 0 0 0;
#X connect 11 0 23 0;
#X connect 12 0 11 0;
#X connect 13 0 14 0;
#X connect 14 0 23 0;
#X connect 30 0 15 0;
