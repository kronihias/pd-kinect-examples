#N canvas 320 219 960 387 10;
#X obj 14 205 pix_texture;
#X obj 184 46 gemhead 3;
#X obj 65 43 gemhead 1;
#X text 412 -12 init settings;
#X text 590 97 this will output an rgb-arranged;
#X text 610 205 R represents 3 most significant bits;
#X text 595 189 RGBA color space is used;
#X text 610 238 B is set to zero and A to 1;
#X text 610 221 G carries 8 least significant bits;
#X obj 489 61 r init;
#X obj 487 166 r init;
#X text 47 24 gemhead for rgb;
#X text 180 25 gemhead for depth stream;
#X text 180 115 arguments activate rgb and depth stream;
#X obj 824 51 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 824 71 s init;
#X text 411 2 get rgb and depth image from pix_openni;
#X obj 67 141 pix_openni 0 1 1 0 0;
#X msg 489 95 registration 1;
#X text 589 84 set depth to rgb registration;
#X text 589 112 depth map;
#X obj 489 125 s /openni;
#X obj 487 224 s /openni;
#X obj 84 111 r /openni;
#X obj 824 2 loadbang;
#X obj 824 25 delay 2000;
#X obj 550 326 freenect 0;
#X obj 550 296 r /freenect;
#X text 631 310 for angle and led settings;
#X obj 75 81 r \$0-prop;
#X obj 77 227 s /kinect/tex-id/rgb;
#X obj 230 288 s /kinect/gemlist/depth;
#X obj 14 273 s /kinect/gemlist/rgb;
#N canvas 268 93 1012 452 properties 1;
#X text 29 17 properties for pix_openni;
#X obj 54 54 cnv 15 300 150 empty empty empty 20 12 0 14 -232576 -66577
0;
#X msg 70 122 rgb \$1;
#X obj 70 88 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X obj 127 88 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X msg 127 122 depth \$1;
#X obj 195 88 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X obj 271 148 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X msg 271 182 hand \$1;
#X text 92 86 OFF;
#X text 92 102 ON;
#X obj 69 162 s \$0-prop;
#X text 64 59 TURN ON/OFF STREAMS;
#X obj 378 55 cnv 15 300 150 empty empty empty 20 12 0 14 -260097 -66577
0;
#X msg 415 130 depth_mode 640 480 30;
#X msg 389 83 video_mode 640 480 30;
#X msg 399 102 video_mode 1280 1024 15;
#X text 391 59 change video/depth mode of OpenNI;
#X msg 512 151 bang;
#X text 550 151 view available modes;
#X obj 394 170 s \$0-prop;
#X obj 5 222 cnv 15 350 150 empty empty empty 20 12 0 14 -204800 -66577
0;
#X msg 12 315 depth_output \$1;
#X obj 12 250 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X msg 239 291 registration \$1;
#X obj 239 257 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X obj 12 349 s \$0-prop;
#X text 8 223 DEPTH OUTPUT PROPERTIES;
#X obj 379 223 cnv 15 300 150 empty empty empty 20 12 0 14 -162280
-66577 0;
#X obj 392 317 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X text 414 315 OFF;
#X text 414 331 ON;
#X obj 391 255 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X text 410 253 OFF;
#X text 410 269 ON;
#X msg 391 289 real_world_coords \$1;
#X msg 392 351 osc_style_output \$1;
#X text 441 266 z: 0-7;
#X text 440 253 if OFF x and y are normalized 0-1;
#X text 388 225 tracking data properties (skeleton \, hand);
#X obj 384 379 s \$0-prop;
#X text 241 222 Match viewpoints;
#X text 241 237 of RGB and Depth;
#X text 257 254 OFF;
#X text 257 270 ON;
#X obj 692 55 cnv 15 300 350 empty empty empty 20 12 0 14 -128992 -66577
0;
#X obj 697 274 s \$0-prop;
#X floatatom 817 78 5 0 0 0 - - -;
#X text 698 55 skeleton specific;
#X msg 705 189 userinfo;
#X text 765 177 userinfo to outlet;
#X text 778 191 num_users [#];
#X msg 697 93 stop_user;
#X msg 817 97 stop_user \$1;
#X floatatom 818 119 5 0 0 0 - - -;
#X msg 702 152 start_user;
#X msg 818 138 start_user \$1;
#X text 699 120 start calibration;
#X obj 788 239 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X text 807 237 OFF;
#X text 807 253 ON;
#X text 780 221 start calibration if user detected;
#X msg 788 273 auto_calibration \$1;
#X text 699 133 for all users;
#X text 855 64 stop skeleton for;
#X text 859 80 specific user;
#X text 694 74 stop all skeletons;
#X text 855 117 start calibration for;
#X text 919 132 spec. user;
#X text 834 252 default: ON;
#X obj 270 88 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X msg 270 122 skeleton \$1;
#X msg 195 122 usergen \$1;
#X text 778 203 user [id] [is_tracking] x y z (com);
#X obj 239 315 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144
-1 -1 1;
#X text 257 313 OFF;
#X text 257 329 ON;
#X msg 239 349 usercoloring \$1;
#X text 275 328 needs usergen;
#X text 29 266 raw yuv (2 byte)->16 bit mm;
#X text 29 250 raw rgba -> mm in r&g \, userid b ch.;
#X text 441 314 -> joint r_hand id x y z convidence;
#X text 436 330 -> /skeleton/joint/r_hand id x y z conv.;
#X obj 790 301 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X text 808 298 OFF;
#X text 808 314 ON;
#X msg 790 335 euler_output \$1;
#X text 833 298 output orientation;
#X text 832 311 euler angles per joint;
#X msg 791 381 skeleton_smoothing \$1;
#X floatatom 791 360 5 0 0 0 - - -;
#X text 828 359 0 - 1 default: 0.5;
#X connect 2 0 11 0;
#X connect 3 0 2 0;
#X connect 4 0 5 0;
#X connect 5 0 11 0;
#X connect 6 0 72 0;
#X connect 7 0 8 0;
#X connect 8 0 11 0;
#X connect 14 0 20 0;
#X connect 15 0 20 0;
#X connect 16 0 20 0;
#X connect 18 0 20 0;
#X connect 22 0 26 0;
#X connect 23 0 22 0;
#X connect 24 0 26 0;
#X connect 25 0 24 0;
#X connect 29 0 36 0;
#X connect 32 0 35 0;
#X connect 35 0 40 0;
#X connect 36 0 40 0;
#X connect 47 0 53 0;
#X connect 49 0 46 0;
#X connect 52 0 46 0;
#X connect 53 0 46 0;
#X connect 54 0 56 0;
#X connect 55 0 46 0;
#X connect 56 0 46 0;
#X connect 58 0 62 0;
#X connect 62 0 46 0;
#X connect 70 0 71 0;
#X connect 71 0 11 0;
#X connect 72 0 11 0;
#X connect 74 0 77 0;
#X connect 77 0 26 0;
#X connect 83 0 86 0;
#X connect 86 0 46 0;
#X connect 89 0 46 0;
#X connect 90 0 89 0;
#X restore 124 -11 pd properties;
#X obj 184 79 alpha 1;
#X obj 184 165 s /openni/msg;
#X msg 487 192 depth_output 0;
#N canvas 63 24 649 259 record 1;
#X obj 55 179 s \$0-prop;
#X obj 69 111 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144 -1
-1 0;
#X text 91 109 OFF;
#X text 91 125 ON;
#X msg 69 145 record \$1;
#X obj 156 111 vradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144
-1 -1 1;
#X text 178 109 OFF;
#X text 178 125 ON;
#X msg 156 145 play \$1;
#X msg 250 154 playback_speed \$1;
#X floatatom 250 132 5 0 0 0 - - -;
#X text 23 14 record image and depth stream to .oni file and playback
later;
#X text 36 47 experimental!!;
#X floatatom 238 189 5 0 0 0 - - -;
#X msg 238 211 jump_image_frame \$1;
#X floatatom 380 193 5 0 0 0 - - -;
#X msg 380 215 jump_depth_frame \$1;
#X msg 55 78 open hallo.oni;
#N canvas 110 287 200 194 openfile 0;
#X obj 38 87 list prepend open;
#X obj 38 112 list trim;
#X obj 38 51 openpanel;
#X obj 38 140 outlet;
#X obj 38 16 inlet;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 0 0;
#X connect 4 0 2 0;
#X restore -21 78 pd openfile;
#X obj -21 52 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 258 43 choose filename before start playback or record! (open)
;
#X text 259 66 records all open streams;
#X text 257 89 for playback - start playback BEFORE rendering!;
#X text 347 103 -> this will be fixed in future;
#X connect 1 0 4 0;
#X connect 4 0 0 0;
#X connect 5 0 8 0;
#X connect 8 0 0 0;
#X connect 9 0 0 0;
#X connect 10 0 9 0;
#X connect 13 0 14 0;
#X connect 14 0 0 0;
#X connect 15 0 16 0;
#X connect 16 0 0 0;
#X connect 17 0 0 0;
#X connect 18 0 0 0;
#X connect 19 0 18 0;
#X restore 237 -9 pd record;
#X connect 0 0 32 0;
#X connect 0 1 30 0;
#X connect 1 0 34 0;
#X connect 2 0 17 0;
#X connect 9 0 18 0;
#X connect 10 0 36 0;
#X connect 14 0 15 0;
#X connect 17 0 0 0;
#X connect 17 1 31 0;
#X connect 17 2 35 0;
#X connect 18 0 21 0;
#X connect 23 0 17 0;
#X connect 24 0 25 0;
#X connect 25 0 14 0;
#X connect 27 0 26 0;
#X connect 29 0 17 0;
#X connect 34 0 17 1;
#X connect 36 0 22 0;
